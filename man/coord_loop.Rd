% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/coord-loop.R
\name{coord_loop}
\alias{coord_loop}
\title{Looped coordinates}
\usage{
coord_loop(
  loops = waiver(),
  time_loops = waiver(),
  time = "x",
  xlim = NULL,
  ylim = NULL,
  expand = FALSE,
  default = FALSE,
  clip = "on",
  coord = coord_cartesian()
)
}
\arguments{
\item{loops}{Loop the time scale around a calendrical granularity, one of:
\itemize{
\item \code{NULL} or \code{waiver()} for no looping (the default)
\item A \code{mixtime} vector giving time points at which the \code{time} axis should loop
\item A function that takes the limits as input and returns loop points as output
}}

\item{time_loops}{A \link[mixtime:duration]{mixtime::duration} giving the distance between temporal
loops like "2 weeks", or "10 years". If both \code{loops} and \code{time_loops} are
specified, \code{time_loops} wins.}

\item{time}{A string specifying which aesthetic contains the time variable that
should be looped over. Default is \code{"x"}.}

\item{xlim, ylim}{Limits for the x and y axes. \code{NULL} means use the default limits.}

\item{expand}{Logical indicating whether to expand the coordinate limits.
Default is \code{FALSE}.}

\item{default}{Logical indicating whether this is the default coordinate system.
Default is \code{FALSE}.}

\item{clip}{Should drawing be clipped to the extent of the plot panel?
A setting of \code{"on"} (the default) means yes, and a setting of \code{"off"} means no.}

\item{coord}{The underlying coordinate system to use. Default is \code{coord_cartesian()}.}
}
\value{
A \code{Coord} ggproto object that can be added to a ggplot.
}
\description{
Create a coordinate system that loops time series data over specified periods,
allowing visualization of seasonal patterns by superimposing multiple time periods
on top of each other.
}
\details{
This coordinate system is particularly useful for visualizing seasonal or
cyclic patterns in time series data. It works by:

\enumerate{
\item Dividing the time axis into segments based on the specified loop period
\item Translating each segment to overlay on the first segment
\item Creating a visualization where multiple time periods are superimposed
}

The coordinate system requires R version 4.2.0 or higher due to its use of
clipping paths.
}
\examples{
library(ggplot2)
library(ggtime)

# Basic usage with US accidental deaths data
p <- tsibble::as_tsibble(USAccDeaths) |>
  # Requires mixtime, POSIXct, or Date time types
  dplyr::mutate(index = as.Date(index)) |>
  ggplot(aes(x = index, y = value)) +
  geom_line()

# Original plot
p

# With yearly looping to show seasonal patterns
p + coord_loop(time_loop = "year")

}
